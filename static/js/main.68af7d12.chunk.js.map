{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.jsx","components/Loader/Loader.jsx","services/QueryApi.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQuery","onChange","event","setState","currentTarget","value","toLowerCase","onSubmit","preventDefault","props","trim","toast","error","this","className","s","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","placeholder","Component","LoaderSpiner","color","height","width","Loader","timeout","API_KEY","BASE_URL","api","queryApi","page","fetch","then","response","json","modalRoot","document","querySelector","Modal","handleKeyDown","onClose","code","handleOverlayClick","target","window","addEventListener","removeEventListener","children","createPortal","Overlay","onClick","ImageGalleryItem","showModal","toggleModel","webformatURL","tags","largeImageURL","ImageGalleryItemImage","src","alt","Button","ButtonName","ImageGallery","images","isLoading","handleLoadMore","fetchAPI","newImages","hits","catch","console","log","finally","prevProps","prevState","nextQuery","scrollTo","top","documentElement","scrollHeight","behavior","Container","map","uuidv4","length","App","handleFormSubmit","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.68af7d12.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2roRI\",\"Modal\":\"Modal_Modal__mQKNl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1SDps\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__10_Ev\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1TS3V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__12Iue\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__QPOtK\"};","import React, { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\nimport { toast } from 'react-toastify';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ searchQuery: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    \r\n    const { searchQuery } = this.state;\r\n    const { onSubmit } = this.props;\r\n\r\n    if (searchQuery.trim() === '') {\r\n      toast.error('Enter what you need to find.');\r\n      return;\r\n    }\r\n\r\n    onSubmit(searchQuery);\r\n    this.setState({ searchQuery: '' });\r\n  };\r\n\r\n  render() {\r\n    const { searchQuery } = this.state;\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={this.onSubmit} className={s.SearchForm}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            name=\"searchQuery\"\r\n            placeholder=\"Search images and photos\"\r\n            value={searchQuery}\r\n            onChange={this.onChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nimport s from './Loader.module.css';\r\n\r\nconst LoaderSpiner = () => (\r\n  <Loader\r\n    type=\"TailSpin\"\r\n    color=\"#3f51b5\"\r\n    height={80}\r\n    width={80}\r\n    className={s.Loader}\r\n    timeout={3000}\r\n  />\r\n);\r\n\r\nexport default LoaderSpiner;\r\n","const API_KEY = '20167067-fa9a23327fba47dd7ecb29229';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\nfunction queryApi(searchQuery, page=1) {\r\n  return fetch(\r\n    `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => response.json());\r\n}\r\n\r\nconst api = {\r\n  queryApi,\r\n};\r\n\r\nexport default api;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = event => {\r\n    const { onClose } = this.props;\r\n\r\n    if (event.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = event => {\r\n    const { onClose } = this.props;\r\n\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleOverlayClick}>\r\n        <div className={s.Modal}>{children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Modal from '../Modal';\r\n\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  state = {\r\n    showModal: false,\r\n  };\r\n\r\n  toggleModel = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { showModal } = this.state;\r\n    const { webformatURL, tags, largeImageURL } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <li className={s.ImageGalleryItem} onClick={this.toggleModel}>\r\n          <img\r\n            className={s.ImageGalleryItemImage}\r\n            src={webformatURL}\r\n            alt={tags}\r\n          />\r\n        </li>\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModel}>\r\n            <img src={largeImageURL} alt={tags} />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nfunction Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" onClick={() => onClick()} className={s.Button}>\r\n      <span className={s.ButtonName}>Load more</span>\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport LoaderSpiner from '../Loader';\r\nimport fetchAPI from '../../services';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport LoadMoreButton from '../Button';\r\n\r\nimport s from './ImageGallery.module.css';\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    images: [],\r\n    isLoading: false,\r\n    page: 1,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { page } = this.state;\r\n    const { searchQuery } = this.props;\r\n\r\n    fetchAPI\r\n      .queryApi(searchQuery, page)\r\n      .then(response =>\r\n        this.setState({ images: response?.hits, isLoading: true }),\r\n      )\r\n      .catch(error => console.log(error))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { searchQuery } = this.props;\r\n    const { page } = this.state;\r\n\r\n    const prevQuery = prevProps.searchQuery;\r\n    const nextQuery = searchQuery;\r\n\r\n    if (prevQuery !== nextQuery) {\r\n      this.setState({ isLoading: true, images: [] });\r\n\r\n      fetchAPI.queryApi(nextQuery, page).then(newImages =>\r\n        this.setState(({ page }) => ({\r\n          images: newImages.hits,\r\n          page: page,\r\n          isLoading: false,\r\n        })),\r\n      );\r\n    }\r\n\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n\r\n  handleLoadMore = () => {\r\n    const { searchQuery } = this.props;\r\n    const { page } = this.state;\r\n\r\n    this.setState({ isLoading: true });\r\n\r\n    return fetchAPI.queryApi(searchQuery, page).then(newImages =>\r\n      this.setState(({ images, page }) => ({\r\n        images: [...images, ...newImages.hits],\r\n        page: page + 1,\r\n        isLoading: false,\r\n      })),\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { images, isLoading } = this.state;\r\n    return (\r\n      <div className={s.Container}>\r\n        {' '}\r\n        {images && (\r\n          <ul className={s.ImageGallery}>\r\n            {images.map(({ webformatURL, largeImageURL, tags }) => (\r\n              <ImageGalleryItem\r\n                key={uuidv4()}\r\n                webformatURL={webformatURL}\r\n                largeImageURL={largeImageURL}\r\n                tags={tags}\r\n              />\r\n            ))}\r\n          </ul>\r\n        )}\r\n        {isLoading && <LoaderSpiner />}\r\n        {images.length > 0 && (\r\n          <LoadMoreButton onClick={this.handleLoadMore}> </LoadMoreButton>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n    }),\r\n  ),\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\n\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleFormSubmit = searchQuery => {\n    this.setState({ searchQuery });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <div className=\"container\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {searchQuery && <ImageGallery searchQuery={searchQuery} />}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__Or-D4\",\"SearchForm\":\"Searchbar_SearchForm__1v9cz\",\"SearchFormButton\":\"Searchbar_SearchFormButton__P5XNx\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1jg7N\",\"SearchFormInput\":\"Searchbar_SearchFormInput__LUgDJ\"};"],"sourceRoot":""}